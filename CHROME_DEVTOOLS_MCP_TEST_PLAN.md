# 🧪 Chrome DevTools MCP 测试计划

**测试账号**: 1504885923@qq.com
**测试密码**: 000000
**生产 URL**: https://studio--studio-1269295870-5fde0.us-central1.hosted.app

---

## 📋 可用的 Chrome DevTools MCP 工具

### 输入自动化（7个工具）
1. `click` - 点击元素
2. `drag` - 拖拽元素
3. `fill` - 填写输入框
4. `fill_form` - 填写表单
5. `handle_dialog` - 处理对话框
6. `hover` - 悬停在元素上
7. `upload_file` - 上传文件

### 导航自动化（7个工具）
1. `close_page` - 关闭页面
2. `list_pages` - 列出所有页面
3. `navigate_page` - 导航到URL
4. `navigate_page_history` - 前进/后退
5. `new_page` - 新建页面
6. `select_page` - 选择页面
7. `wait_for` - 等待条件

### 模拟（3个工具）
1. `emulate_cpu` - 模拟CPU限制
2. `emulate_network` - 模拟网络条件
3. `resize_page` - 调整页面大小

### 性能（3个工具）
1. `performance_analyze_insight` - 分析性能洞察
2. `performance_start_trace` - 开始性能追踪
3. `performance_stop_trace` - 停止性能追踪

### 网络（2个工具）
1. `get_network_request` - 获取网络请求
2. `list_network_requests` - 列出所有网络请求

### 调试（4个工具）
1. `evaluate_script` - 执行JavaScript
2. `list_console_messages` - 列出控制台消息
3. `take_screenshot` - 截图
4. `take_snapshot` - 快照

---

## 📝 详细测试清单

### 阶段 1: 基础页面测试

#### 测试 #1: 首页加载和性能
- [ ] 导航到首页
- [ ] 开始性能追踪
- [ ] 等待页面加载完成
- [ ] 停止性能追踪
- [ ] 分析性能洞察
- [ ] 检查 LCP、FCP、CLS
- [ ] 列出控制台消息
- [ ] 检查是否有错误
- [ ] 截图保存

#### 测试 #2: Firebase 初始化检查
- [ ] 执行脚本检查 Firebase 配置
- [ ] 检查环境变量
- [ ] 检查 Firebase SDK 是否初始化
- [ ] 列出网络请求
- [ ] 检查 Firebase API 调用

---

### 阶段 2: 用户认证测试

#### 测试 #3: 登录功能
- [ ] 导航到首页
- [ ] 点击个人资料/登录按钮
- [ ] 等待登录模态框出现
- [ ] 填写邮箱: 1504885923@qq.com
- [ ] 填写密码: 000000
- [ ] 点击登录按钮
- [ ] 等待登录完成
- [ ] 检查是否登录成功
- [ ] 截图保存
- [ ] 检查控制台错误

#### 测试 #4: 登录状态验证
- [ ] 执行脚本检查用户状态
- [ ] 验证用户 UID
- [ ] 检查 Firebase Auth 状态
- [ ] 截图保存

---

### 阶段 3: 核心功能测试

#### 测试 #5: Feed 内容加载
- [ ] 导航到首页（已登录）
- [ ] 等待 Feed 内容加载
- [ ] 执行脚本检查 Feed 卡片数量
- [ ] 检查是否有内容显示
- [ ] 截图保存
- [ ] 列出网络请求
- [ ] 检查 Firestore 请求

#### 测试 #6: 创建设计功能
- [ ] 点击创建按钮
- [ ] 等待创建屏幕出现
- [ ] 填写 Prompt: "可爱的小猫咪"
- [ ] 选择风格
- [ ] 点击生成按钮
- [ ] 等待生成完成
- [ ] 检查是否成功
- [ ] 截图保存
- [ ] 检查控制台错误

#### 测试 #7: Feed 交互
- [ ] 点击点赞按钮
- [ ] 检查点赞状态
- [ ] 点击评论按钮
- [ ] 检查评论抽屉
- [ ] 点击收藏按钮
- [ ] 检查收藏状态
- [ ] 截图保存

#### 测试 #8: 滚动和导航
- [ ] 测试向下滚动
- [ ] 测试向上滚动
- [ ] 检查是否加载更多内容
- [ ] 测试底部导航切换
- [ ] 截图保存

---

### 阶段 4: 购物流程测试

#### 测试 #9: 产品详情
- [ ] 点击设计卡片
- [ ] 等待产品详情显示
- [ ] 检查产品信息
- [ ] 选择尺码/颜色
- [ ] 检查价格显示
- [ ] 截图保存

#### 测试 #10: 添加到购物车
- [ ] 点击"加入购物车"按钮
- [ ] 等待添加完成
- [ ] 检查成功提示
- [ ] 导航到购物车页面
- [ ] 检查商品是否在购物车中
- [ ] 截图保存

#### 测试 #11: 购物车管理
- [ ] 调整商品数量
- [ ] 检查价格更新
- [ ] 删除商品
- [ ] 重新添加商品
- [ ] 截图保存

#### 测试 #12: 结算流程
- [ ] 点击结算按钮
- [ ] 填写配送信息
- [ ] 选择支付方式
- [ ] 检查订单摘要
- [ ] 截图保存
- [ ] （不实际支付）

---

### 阶段 5: 其他功能测试

#### 测试 #13: 个人资料
- [ ] 导航到个人资料页面
- [ ] 检查用户信息显示
- [ ] 检查创作列表
- [ ] 检查订单列表
- [ ] 截图保存

#### 测试 #14: 退出登录
- [ ] 点击退出登录
- [ ] 确认退出
- [ ] 检查是否返回未登录状态
- [ ] 截图保存

---

### 阶段 6: 性能和网络测试

#### 测试 #15: 完整性能审计
- [ ] 开始性能追踪
- [ ] 执行完整用户流程
- [ ] 停止性能追踪
- [ ] 分析性能洞察
- [ ] 检查所有 Core Web Vitals
- [ ] 生成性能报告

#### 测试 #16: 网络请求分析
- [ ] 列出所有网络请求
- [ ] 检查失败的请求
- [ ] 检查慢速请求
- [ ] 检查 CORS 问题
- [ ] 生成网络报告

#### 测试 #17: 控制台错误审计
- [ ] 列出所有控制台消息
- [ ] 分类错误、警告、信息
- [ ] 识别关键错误
- [ ] 生成错误报告

---

## 🐛 Bug 修复流程

对于每个发现的 bug：

1. **记录 Bug**
   - 使用 `take_screenshot` 截图
   - 使用 `list_console_messages` 获取错误
   - 使用 `list_network_requests` 检查网络
   - 使用 `evaluate_script` 检查状态

2. **分析根本原因**
   - 执行脚本检查 DOM 状态
   - 检查 Firebase 配置
   - 检查网络请求
   - 检查控制台错误

3. **修复 Bug**
   - 修改代码
   - 提交更改
   - 等待部署

4. **验证修复**
   - 重新运行相同测试
   - 确认 bug 已修复
   - 截图保存

5. **回归测试**
   - 运行相关测试
   - 确保没有引入新问题

---

## 📊 成功标准

所有测试必须满足：
- ✅ 页面正常加载
- ✅ 无 Console 错误
- ✅ 无 Network 错误
- ✅ 功能按预期工作
- ✅ 性能指标达标
- ✅ 用户体验流畅

---

**准备开始测试！** 🚀

